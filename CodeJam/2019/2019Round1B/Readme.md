# 2019 Round 1 Sub-Round B

-   Score : -
-   Rank : -
-   找不到提交按钮海星。。。

---

## A

- 对于每个人，显然如果他的方向是对的，那目标位置的可能范围是一个矩形
- 离散化他们的坐标，做二维前缀和
- 找一下值最大的符合要求的位置就好

## B

- 其实可以做到$R \leq 500$，直接说这个版本
- 询问$54$和$164$两天的结果
    - $54$这一天可以区分出$R_1$和$R_2$
    - $164$这一天可以区分出$R_3$和$R_4$
    - $R_5$和$R_6$由前面的答案得到了二元一次方程组，解出即可

## C

- 考虑枚举$C_i$作为最大值的区间
- 现在需要知道以$C_i$作为最大值的区间$[l, r]$里
    有多少个区间满足$\max_{l \leq x \leq r} D_x \leq C_i + k$
- $\geq C_i - k$可以等价看成$\lt C_i - k$
- ST表+二分即可
