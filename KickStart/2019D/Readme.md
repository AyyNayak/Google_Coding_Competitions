# 2019 Round C

-   Score : 69
-   Rank : 52
-   晚睡还是不靠谱，前四十分钟啥也不会= =

---

## A

- 区间异或二进制表示下$1$的个数为偶数$\Leftrightarrow$区间里二进制表示下$1$的个数为奇数的有偶数个
- 预处$0$到$1023$属于哪一类，然后维护一个01序列，每次询问就是找最长的区间和为偶数的区间
- 维护前缀和为偶数和奇数的最靠前和最靠后共四个位置
- 这个可以线段树，也可以二分+树状数组

## B

- 对于顺时针的人和逆时针的人分开考虑
- 我们考虑每个领事馆，可以二分出这个领事馆最后一次被访问的时间
- 那么我们可以计算出起点在哪里，且朝向是什么的人被这个领事馆记录了
- 最后每个人根据自己的起点和朝向统计答案即可
- 推公式推累死了= =

## C

- 框架都对，就是想歪了一点点qwq
- 我们考虑任取$k + 1$个地方，那么特殊点一定在正中间
- 我们枚举特殊点$s$，那么左边的点贡献是就是$C - X + X_s$，右边的点贡献是$C + X - X_s$
- 我们维护两颗权值线段树，左边的点维护$C - X$的$k$小以及和，右边的则维护$C + X$
- 枚举中心后，按照公式计算两边的贡献，取最小值即可
- (一开始觉得左右选取的个数是可以三分的，结果WA了= =)
